---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by shoufeng.zhang.
--- DateTime: 2022/4/22 15:15
---
local BaseUIComponent = require('BaseUIComponent')
local Delegate = require('Delegate')
local UIHelper = require('UIHelper')
local I18N = require("I18N")

---@class BaseToggleButton : BaseUIComponent
local BaseToggleButton = class('BaseToggleButton',BaseUIComponent)

function BaseToggleButton:OnCreate(param)
    self.button = self:Button('',Delegate.GetOrCreate(self,self.OnButtonClick))
    self.text = self:Text('p_txt');
end

function BaseToggleButton:OnClose(param)
    self.groupCallback = nil
    self.data = nil
end

function BaseToggleButton:OnFeedData(data)
    self.groupCallback = data.onButtonClick
    self.data = data.data
    if self.data ~= nil then
        self.text.text = I18N.Get(self.data.name) 
    end
end

function BaseToggleButton:OnClose(param)
    self.groupCallback = nil
    self.data = nil
end

function BaseToggleButton:OnButtonClick()
    if self.groupCallback ~= nil then
        self.groupCallback(self)
    end
end

function BaseToggleButton:OnSelected()
    if self.button ~= nil then
        UIHelper.SetGray(self.button,false)
    end
end

function BaseToggleButton:OnDeselected()
    if self.button ~= nil then
        UIHelper.SetGray(self.button,true
        )
    end
end

function BaseToggleButton:OnEnable()
    
end

function BaseToggleButton:OnDisable()
    
end

return BaseToggleButton