---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by xiang.li
--- DateTime: 2021/7/26 10:19
---
local SEUnitType = require("SEUnitType")
local SEUnit = require("SEUnit")

---@class SEPet:SEUnit
---@field new fun(manager:SEUnitManager, id:number, data:SEUnitData):SEPet
---@field super SEUnit
local SEPet = class("SEPet",  SEUnit);

---@param self SEPet
---@param manager SEUnitManager
---@param id number
---@param data SEUnitData
---@return void
function SEPet:ctor(manager, id, data)
    SEPet.super.ctor(self, manager, id, SEUnitType.Pet)

    local SEUnitController = require("SEUnitController")
    local SEActor = require("SEActor")
    local SEUnitRenderer = require("SEUnitRenderer")
    local SEUnitStateMachine = require("SEUnitStateMachine")
    local SEUnitLocomotion = require("SEUnitLocomotion")
    self.m_actor = SEActor.new(self)
    data:SetUnit(self)
    self:AddComponent(data)
    self:AddComponent(SEUnitRenderer.new(self))
    self:AddComponent(SEUnitStateMachine.new(self))
    self:AddComponent(SEUnitLocomotion.new(self))
    self:AddComponent(SEUnitController.new(self))
end

function SEPet:RefreshHudLevel()
    local unitRedner = self:GetRenderer()
    if not unitRedner then return end
    local hud = self:GetHud()
    if not hud then return end
    unitRedner:RefreshHudLevel(self, hud, self:GetData():GetConfig())
end

return SEPet
