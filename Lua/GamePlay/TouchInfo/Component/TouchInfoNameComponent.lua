---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Admin.
--- DateTime: 2022/7/21 10:20
---

local BaseUIComponent = require('BaseUIComponent')
local Delegate = require("Delegate")

---@class TouchInfoNameComponent : BaseUIComponent
local TouchInfoNameComponent = class('TouchInfoNameComponent', BaseUIComponent)

---@class TouchInfoNameCompData
---@field name string
---@field level number|nil
---@field position string|nil
---@field detailsFunc function|nil

function TouchInfoNameComponent:OnCreate()
    self._p_text_name = self:Text("p_text_name")
    self._p_icon_level = self:GameObject("p_icon_level")
    self._p_text_level = self:Text("p_text_level")
    self._p_btn_detail = self:Button("p_btn_detail", Delegate.GetOrCreate(self, self.OnClick))
    self._p_text_position = self:Text("p_text_position")
end

---@param data TouchInfoNameCompData
function TouchInfoNameComponent:OnFeedData(data)
    self._p_text_name.text = data.name
    if data.level then
        self._p_icon_level:SetActive(true)
        self._p_text_level.text = tostring(data.level)
    else
        self._p_icon_level:SetActive(false)
    end
    if data.position then
        self._p_text_position.gameObject:SetActive(true)
        self._p_text_position.text = data.position
    else
        self._p_text_position.gameObject:SetActive(false)
    end

    self._p_btn_detail.gameObject:SetActive(data.detailsFunc ~= nil)
    self.click = data.detailsFunc
end

function TouchInfoNameComponent:OnClick()
    if self.click then
        self.click()
    end
end

return TouchInfoNameComponent